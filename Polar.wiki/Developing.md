# Разрабатываем
В разделе содержится информация о принципах, решениях и особенностях реализации системы Поляр. Раздел предназначен разработчиком Поляра и основных сопряженных технологий. 

### Структурное значение
Структурное поляровское значение p-value (p-значение), это значение, реализованное какими-то средствами, интерпретируемое в контексте поляровского типа. Поляровский тип - также является p-значением специального вида и его тип - константа специального (самоприменимого) вида. p-значение всегда пара - значение и его тип. Эта пара может иметь явную форму или быть неявной. Неявная пара может быть собрана в явную по необходимости. 
Структурное значение может реализовываться конструкциями в оперативной памяти, конструкциями в потоке байтов. В потоке байтов определены два вида развертки структурного значения: свободного и фиксированного форматов.

Поля структурных значений это части структурного значения, представляющие собой самостоятельные p-значения. Соответственно, при выделении поля из p-значения, формируется пара подзначения и подтипа. Для экономной реализации такого подхода, используются ссылки. Ссылки на структуры в оперативной памяти совпадают с указателями на начало информационной части объекта. Ссылки на структуры в потоке байтов - значения смещения (offset) начального байта относительно начала потока. Если мы можем вычислить это смещение для неизвестного объекта с известным типом, то допустимо создать ссылку и p-value. Ответственность за "попадание" ссылки на начало значения лежит на программисте. Такой подход предоставляет возможность создавать эффективные решения по обработке, в то же время приводит к риску появления плохо диагностируемых ошибок во время исполнения. 


### Необходимые или возможные изменения/исправления

1. Очень желательно сделать продвижение по страничной памяти. В частности а) желательно сделать более "приличный" способ работы с памятью; б) желательно сделать каноническое представление размещения потоков и BLOB'ов. Нужно, чтобы ситуация не зависела от наполнения, чтобы можно было создавать утилиты "чистки" и реорганизации. 
2. в кешевых решениях страничной памяти, нужно вернуться к корректным решениями и оптимизациям. В частности, надо ли делать активацию всего файла или достаточно выделенных потоков или чтобы можно было бы и так и так. В частности, надо добавить политику освобождения кеша. 
    
  